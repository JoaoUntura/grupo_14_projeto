<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Clientes</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="d-flex">

      <%- include('partials/sidebar') %>
      <%- include('partials/logout') %>


        <div class="card shadow p-4 mb-4">
          <h2 class="mb-3">Cadastro de Clientes</h2>
          <form id="form-cliente" method="POST" action="/clientes">
            <div class="mb-3">
              <label for="nome" class="form-label">Nome:</label>
              <input type="text" class="form-control" id="nome" name="nome" required />
            </div>

            <div class="mb-3">
              <label for="telefone" class="form-label">Telefone:</label>
              <input
                type="text"
                class="form-control"
                id="telefone"
                name="telefone"
                placeholder="(XX) XXXXX-XXXX"
                required
              />
            </div>

            <div class="mb-3">
              <label for="telefone" class="form-label">Email:</label>
              <input
                type="text"
                class="form-control"
                id="email"
                name="email"
                placeholder="exemplo@email.com"
                required
              />
            </div>

            <div class="mb-3">
              <label for="telefone" class="form-label">CPF:</label>
              <input
                type="text"
                class="form-control"
                id="cpf"
                name="cpf"
                placeholder="123456789101"
                required
              />
            </div>

            <div class="d-flex gap-2">
              <button type="submit" class="btn btn-primary">Salvar</button>
              <button type="button" id="btn-gerenciar" class="btn btn-success">Gerenciar Clientes</button>
            </div>

            <div id="feedback" class="mt-3"></div>
          </form>
        </div>

        <div class="card shadow p-4">
          <h2 class="mb-3">Lista de Clientes</h2>

          <% if (clientes && clientes.length > 0) { %>
            <table class="table table-striped align-middle">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nome</th>
                  <th>Contato</th>
                </tr>
              </thead>
              <tbody>
                <% clientes.forEach(cliente => { %>
                  <tr>
                    <td><%= cliente.id %></td>
                    <td><%= cliente.nome %></td>
                    <td><%= cliente.contato %></td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <p class="text-muted">Nenhum cliente cadastrado ainda.</p>
          <% } %>
        </div>
      </div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
